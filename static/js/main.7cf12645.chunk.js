(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{23:function(e,t,a){e.exports=a(71)},28:function(e,t,a){},29:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),l=(a(28),a(29),a(8)),u=a(9),i=a.n(u),m=a(20),s=a(3),d=function(e){var t=e.onSubmit,a=e.onChange,n=e.query;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:t},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:a}))))},f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],l=o[1],u=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(c);return r.a.createElement(d,{onSubmit:function(e){e.preventDefault(),t(c,null,u),l("")},onChange:function(e){var t=e.target.value;l(t)},query:c})},b=function(e){var t=e.webformatURL,a=e.tags,n=e.largeImageURL,o=e.openModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t,alt:a,className:"ImageGalleryItem-image",onClick:function(){return o(n,a)}})))},g=function(e){var t=e.imagesCollection,a=e.openModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(b,Object.assign({key:e.id},e,{openModal:a}))}))))},p=function(e){var t=e.loadMore;return r.a.createElement("button",{className:"Button",onClick:t},"load more")},h=(a(31),a(21)),E=a.n(h),v=function(){return r.a.createElement(E.a,{type:"Rings",height:300,width:300,color:"#3f51b5",style:{marginTop:"10em"}})},O=function(e){var t=e.modalWindow,a=e.closeModal;return r.a.createElement("div",{className:"Overlay",onClick:a},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t.url,alt:t.alt})))},j=function(e){var t=e.modalWindow,a=e.closeModal,o=e.isModal,c=function(e){27===e.keyCode&&a(o)};return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}})),r.a.createElement(O,{modalWindow:t,closeModal:function(e){"IMG"!==e.target.tagName&&a(o)}})},w=function(e){var t=e.onSubmit,a=e.imagesCollection,n=e.loadMore,o=e.loader,c=e.error,l=e.openModal,u=e.modalWindow,i=e.isModal,m=e.closeModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{onSubmit:t}),o&&r.a.createElement(v,null),c&&r.a.createElement("h1",null,"something went wrong, try again later"),!o&&!c&&!!a.length&&r.a.createElement(g,{imagesCollection:a,openModal:l}),!!a.length&&!o&&r.a.createElement(p,{loadMore:n}),i&&r.a.createElement(j,{modalWindow:u,closeModal:m,isModal:i}))},S=a(22),M=a.n(S).a.create({baseURL:"https://pixabay.com/api/"}),y=function(e){return"?".concat(e,"&key=").concat("17614093-36739e4463731acd117b72b34")},k=a(10);a(70);k.a.configure();var C=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1],u=Object(n.useState)([]),d=Object(s.a)(u,2),f=d[0],b=d[1],g=Object(n.useState)(!1),p=Object(s.a)(g,2),h=p[0],E=p[1],v=Object(n.useState)(1),O=Object(s.a)(v,2),j=O[0],S=O[1],C=Object(n.useState)(!1),N=Object(s.a)(C,2),F=N[0],I=N[1],x=Object(n.useState)({url:"",alt:""}),W=Object(s.a)(x,2),L=W[0],R=W[1],G=Object(n.useState)(!1),q=Object(s.a)(G,2),T=q[0],U=q[1],B=Object(n.useState)(12),J=Object(s.a)(B,1)[0],_=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:1,n=o.length>2?o[2]:void 0,t){e.next=5;break}return z(),e.abrupt("return");case 5:if(t!==n){e.next=7;break}return e.abrupt("return");case 7:return c(t),I(!0),e.prev=9,e.next=12,M.get(y("q=".concat(t,"&page=").concat(a,"&image_type=photo&orientation=horizontal&per_page=").concat(J)));case 12:r=e.sent,D(n,t,r.data.hits),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),E(!0);case 19:return e.prev=19,I(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[9,16,19,22]])})));return function(t){return e.apply(this,arguments)}}();!function(e,t){Object(n.useEffect)((function(){window.scrollTo(100,0),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[e,t])}(f,F);var z=function(){b([]),S(1),k.a.success("I don't see what you're looking.")},D=function(e,t,a){e?e===t||b(Object(l.a)(a)):b([].concat(Object(l.a)(f),Object(l.a)(a)))};return r.a.createElement(w,{onSubmit:_,imagesCollection:f,loadMore:function(){var e=j+1;_(o,e),S(e)},loader:F,error:h,openModal:function(e,t){R({url:e,alt:t}),U(!0)},modalWindow:L,isModal:T,closeModal:function(e){U(!e)}})};var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.7cf12645.chunk.js.map
{"version":3,"sources":["Components/Searchbar/Searchbar.js","Containers/Searchbar/SearchbarContainer.js","hooks/previousState.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Containers/Modal/ModalContainer.js","Components/ImageFinder/ImageFinder.js","helpers/axios.js","helpers/builderURL.js","Containers/ImageFinder/ImageFinderContainer.js","hooks/scrollTo.js","App.js","index.js"],"names":["Searchbar","onSubmit","onChange","query","className","type","autoComplete","autoFocus","placeholder","value","SearchbarContainer","useState","setQuery","prevQuery","ref","useRef","useEffect","current","prevState","e","preventDefault","target","ImageGalleryItem","webformatURL","tags","largeImageURL","openModal","src","alt","onClick","ImageGallery","imagesCollection","map","image","key","id","Button","loadMore","Loader","height","width","color","style","marginTop","Modal","modalWindow","closeModal","url","ModalContainer","isModal","exitKey","keyCode","window","addEventListener","removeEventListener","tagName","ImageFinder","loader","error","length","Axios","create","baseURL","process","toast","configure","ImageFinderContainer","props","setImagesCollection","setError","numberPage","setNumberPage","setLoader","setModalWindow","setIsModal","pages","requestMoreImages","a","page","prevValue","conditionalEmptyInput","axios","get","builderURL","response","conditionalFillingList","data","hits","arr","scrollTo","top","document","documentElement","scrollHeight","behavior","success","newPage","caption","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7cf12645.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Searchbar = ({ onSubmit, onChange, query }) => {\r\n  return (\r\n    <>\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={onChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n};\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  query: PropTypes.string.isRequired,\r\n};\r\nexport default Searchbar;","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Searchbar from \"../../Components/Searchbar/Searchbar\";\r\nimport prevState from \"../../hooks/previousState\";\r\nconst SearchbarContainer = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const prevQuery = prevState(query);\r\n  const handleChange = (e) => {\r\n    const query = e.target.value;\r\n    setQuery(query);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(query, null, prevQuery);\r\n    setQuery(\"\");\r\n  };\r\n  return (\r\n    <Searchbar onSubmit={handleSubmit} onChange={handleChange} query={query} />\r\n  );\r\n};\r\nSearchbarContainer.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchbarContainer;","import { useRef, useEffect } from \"react\";\r\nexport default (value) => {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags, largeImageURL, openModal }) => {\r\n  return (\r\n    <>\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={() => openModal(largeImageURL, tags)}\r\n        />\r\n      </li>\r\n    </>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nconst ImageGallery = ({ imagesCollection, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        {imagesCollection.map((image) => (\r\n          <ImageGalleryItem key={image.id} {...image} openModal={openModal} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\nImageGallery.propTypes = {\r\n  imagesCollection: PropTypes.array.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGallery;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ loadMore }) => (\r\n  <button className=\"Button\" onClick={loadMore}>\r\n    load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Downloader from \"react-loader-spinner\";\r\nconst Loader = () => (\r\n  <Downloader\r\n    type=\"Rings\"\r\n    height={300}\r\n    width={300}\r\n    color=\"#3f51b5\"\r\n    style={{ marginTop: \"10em\" }}\r\n  />\r\n);\r\n\r\nexport default Loader;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Modal = ({ modalWindow, closeModal }) => {\r\n  return (\r\n    <div className=\"Overlay\" onClick={closeModal}>\r\n      <div className=\"Modal\">\r\n        <img src={modalWindow.url} alt={modalWindow.alt} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  modalWindow: PropTypes.shape({}),\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Modal from \"../../Components/Modal/Modal\";\r\nconst ModalContainer = ({ modalWindow, closeModal, isModal }) => {\r\n  const exitKey = (e) => {\r\n    if (e.keyCode === 27) {\r\n      closeModal(isModal);\r\n    }\r\n  };\r\n  const clickClose = (e) => {\r\n    if (e.target.tagName === \"IMG\") {\r\n      return;\r\n    }\r\n    closeModal(isModal);\r\n  };\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\",  exitKey);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", exitKey);\r\n    };\r\n  },);\r\n  return <Modal modalWindow={modalWindow} closeModal={clickClose} />;\r\n};\r\n\r\nModalContainer.propTypes = {\r\n  modalWindow: PropTypes.shape({}),\r\n  closeModal: PropTypes.func.isRequired,\r\n  isModal: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default ModalContainer;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchbarContainer from \"../../Containers/Searchbar/SearchbarContainer\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Button from \"../Button/Button\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ModalContainer from \"../../Containers/Modal/ModalContainer\";\r\n\r\nconst ImageFinder = ({\r\n  onSubmit,\r\n  imagesCollection,\r\n  loadMore,\r\n  loader,\r\n  error,\r\n  openModal,\r\n  modalWindow,\r\n  isModal,\r\n  closeModal,\r\n}) => {\r\n  return (\r\n    <>\r\n      <SearchbarContainer onSubmit={onSubmit} />\r\n      {loader && <Loader />}\r\n      {error && <h1>something went wrong, try again later</h1>}\r\n      {!loader && !error && !!imagesCollection.length && (\r\n        <ImageGallery\r\n          imagesCollection={imagesCollection}\r\n          openModal={openModal}\r\n        />\r\n      )}\r\n      {!!imagesCollection.length && !loader && (\r\n        <Button loadMore={loadMore}></Button>\r\n      )}\r\n      {isModal && (\r\n        <ModalContainer\r\n          modalWindow={modalWindow}\r\n          closeModal={closeModal}\r\n          isModal={isModal}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\nImageFinder.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n  imagesCollection: PropTypes.array.isRequired,\r\n  loadMore: PropTypes.func.isRequired,\r\n  loader: PropTypes.bool.isRequired,\r\n  error: PropTypes.bool.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n  modalWindow: PropTypes.shape({}),\r\n  isModal: PropTypes.bool.isRequired,\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageFinder;","import Axios from \"axios\";\r\n\r\nexport default Axios.create({\r\n  baseURL: \"https://pixabay.com/api/\",\r\n});","const CLIENT_KEY = process.env.REACT_APP_CLIENT_KEY;\r\n\r\nexport default (url) => {\r\n  return `?${url}&key=${CLIENT_KEY}`;\r\n};","import React, { useState } from \"react\";\r\nimport ImageFinder from \"../../Components/ImageFinder/ImageFinder\";\r\nimport axios from \"../../helpers/axios\";\r\nimport builderURL from \"../../helpers/builderURL\";\r\nimport scrollTo from \"../../hooks/scrollTo\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\ntoast.configure();\r\n\r\nconst ImageFinderContainer = (props) => {\r\n  const [query, setQuery] = useState(\"\");\r\n  // const [value, setValue] = useState(\"\");\r\n  const [imagesCollection, setImagesCollection] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [loader, setLoader] = useState(false);\r\n  const [modalWindow, setModalWindow] = useState({ url: \"\", alt: \"\" });\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [pages] = useState(12)\r\n\r\n  const requestMoreImages = async (value, page = 1, prevValue) => {\r\n    if (!value) {\r\n      conditionalEmptyInput();\r\n      return;\r\n    }\r\n    if (value === prevValue) return;\r\n    setQuery(value);\r\n    setLoader(true);\r\n    try {\r\n      const response = await axios.get(\r\n        builderURL(\r\n          `q=${value}&page=${page}&image_type=photo&orientation=horizontal&per_page=${pages}`\r\n        )\r\n      );\r\n      conditionalFillingList(prevValue, value, response.data.hits);\r\n    } catch (error) {\r\n      setError(true);\r\n    } finally {\r\n      setLoader(false);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    const newPage = numberPage + 1;\r\n    requestMoreImages(query, newPage);\r\n    setNumberPage(newPage);\r\n  };\r\n\r\n  scrollTo(imagesCollection, loader);\r\n\r\n  const conditionalEmptyInput = () => {\r\n    setImagesCollection([]);\r\n    setNumberPage(1);\r\n    toast.success(\"I don't see what you're looking.\");\r\n  };\r\n\r\n  const conditionalFillingList = (prevValue, value, data) => {\r\n    if (!prevValue) {\r\n      setImagesCollection([...imagesCollection, ...data]);\r\n      return;\r\n    }\r\n    if (prevValue !== value) {\r\n      setImagesCollection([...data]);\r\n      return;\r\n    }\r\n  };\r\n\r\n  const openModal = (image, caption) => {\r\n    setModalWindow({ url: image, alt: caption });\r\n    setIsModal(true);\r\n  };\r\n  const closeModal = (isModal) => {\r\n    setIsModal(!isModal);\r\n  };\r\n\r\n  return (\r\n    <ImageFinder\r\n      onSubmit={requestMoreImages}\r\n      imagesCollection={imagesCollection}\r\n      loadMore={loadMore}\r\n      loader={loader}\r\n      error={error}\r\n      openModal={openModal}\r\n      modalWindow={modalWindow}\r\n      isModal={isModal}\r\n      closeModal={closeModal}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ImageFinderContainer;","import { useEffect } from \"react\";\r\nexport default (arr, loader) => {\r\n  useEffect(() => {\r\n    window.scrollTo(100,0);\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }, [arr, loader]);\r\n};","import React from \"react\";\nimport \"./App.css\";\nimport ImageFinderContainer from \"./Containers/ImageFinder/ImageFinderContainer\";\n\nfunction App() {\n  return (\n  <>\n  <ImageFinderContainer />\n  </>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}